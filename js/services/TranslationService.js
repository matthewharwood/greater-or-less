const translations = {
    en: {
        mode: 'MODE',
        greater: 'GREATER',
        less: 'LESS',
        name: 'NAME:',
        true: 'TRUE',
        false: 'FALSE',
        equal: 'EQUAL',
        smaller: 'SMALLER',
        bigger: 'BIGGER',
        left: 'LEFT',
        right: 'RIGHT',
        isGreaterThan: 'is GREATER THAN',
        isLessThan: 'is LESS THAN',
        wrong: '❌ WRONG! ❌',
        pickMe: '👈 PICK ME',
        saved: '✓ SAVED',
        enterName: 'Enter name...',
        // Win messages
        winMessages: [
            "🎉 BINGO YOU WON! 🎉",
            "⭐ AMAZING! YOU'RE CORRECT! ⭐",
            "🏆 CHAMPION! WELL DONE! 🏆",
            "🎯 PERFECT SHOT! YOU GOT IT! 🎯",
            "🌟 BRILLIANT! FANTASTIC WORK! 🌟",
            "🚀 AWESOME! YOU'RE ON FIRE! 🚀",
            "💎 EXCELLENT! SUPER SMART! 💎",
            "🎊 HOORAY! MAGNIFICENT! 🎊",
            "🥳 INCREDIBLE! YOU NAILED IT! 🥳",
            "🏅 OUTSTANDING! GREAT JOB! 🏅",
            "⚡ SPECTACULAR! WELL PLAYED! ⚡",
            "🎈 FANTASTIC! YOU'RE A STAR! 🎈"
        ],
        // Encouragement messages
        encouragementMessages: [
            "🤔 Think more carefully next time!",
            "⏰ Take your time to compare the numbers!",
            "👀 Look at each number closely before choosing!",
            "📏 Remember: bigger numbers are greater than smaller ones!",
            "🐌 Don't rush - think it through!",
            "🧠 Use your brain power to solve this!",
            "👣 Compare the numbers step by step!",
            "🚦 Slow down and think about which is bigger!",
            "💪 Practice makes perfect - keep trying!",
            "🎯 Focus on the numbers before clicking!",
            "😮‍💨 Take a deep breath and think carefully!",
            "⭐ You can do better - concentrate harder!"
        ],
        // Tooltip messages
        tooltipGreater: "Look at the dots! If 🔴 RED is on the RIGHT, it's BIGGER!",
        tooltipLess: "Look at the dots! If 🔴 RED is on the LEFT, it's SMALLER!",
        // Explanation text
        isBigger: 'is BIGGER than',
        isSmaller: 'is SMALLER than',
        areSame: 'and',
        areEqual: 'are THE SAME',
        soStatement: 'So',
        isTrue: 'is TRUE',
        isFalse: 'is FALSE',
        theyAreEqual: '(They are EQUAL)',
        // Celebration messages
        incredible: 'INCREDIBLE!',
        youCrushedIt: 'YOU CRUSHED IT',
        streakLegend: '10 STREAK LEGEND',
        champion: 'CHAMPION'
    },
    ko: {
        mode: '모드',
        greater: '크다',
        less: '작다',
        name: '이름:',
        true: '참',
        false: '거짓',
        equal: '같음',
        smaller: '더 작음',
        bigger: '더 큼',
        left: '왼쪽',
        right: '오른쪽',
        isGreaterThan: '보다 큽니다',
        isLessThan: '보다 작습니다',
        wrong: '❌ 틀렸어요! ❌',
        pickMe: '👈 선택하세요',
        saved: '✓ 저장됨',
        enterName: '이름 입력...',
        // Win messages
        winMessages: [
            "🎉 빙고! 이겼어요! 🎉",
            "⭐ 놀라워요! 정답입니다! ⭐",
            "🏆 챔피언! 잘했어요! 🏆",
            "🎯 완벽해요! 맞췄어요! 🎯",
            "🌟 훌륭해요! 환상적이에요! 🌟",
            "🚀 굉장해요! 최고예요! 🚀",
            "💎 우수해요! 정말 똑똑해요! 💎",
            "🎊 만세! 대단해요! 🎊",
            "🥳 믿을 수 없어요! 성공했어요! 🥳",
            "🏅 뛰어나요! 잘했어요! 🏅",
            "⚡ 멋져요! 잘 플레이했어요! ⚡",
            "🎈 환상적이에요! 당신은 스타예요! 🎈"
        ],
        // Encouragement messages
        encouragementMessages: [
            "🤔 다음번엔 더 신중하게 생각해보세요!",
            "⏰ 시간을 가지고 숫자를 비교해보세요!",
            "👀 선택하기 전에 각 숫자를 자세히 보세요!",
            "📏 기억하세요: 큰 숫자가 작은 숫자보다 큽니다!",
            "🐌 서두르지 마세요 - 천천히 생각해보세요!",
            "🧠 두뇌를 사용해서 문제를 풀어보세요!",
            "👣 차근차근 숫자를 비교해보세요!",
            "🚦 천천히, 어느 것이 더 큰지 생각해보세요!",
            "💪 연습하면 완벽해집니다 - 계속 도전하세요!",
            "🎯 클릭하기 전에 숫자에 집중하세요!",
            "😮‍💨 심호흡하고 신중히 생각해보세요!",
            "⭐ 더 잘할 수 있어요 - 집중하세요!"
        ],
        // Tooltip messages
        tooltipGreater: "점을 보세요! 🔴 빨간색이 오른쪽에 있으면 더 큽니다!",
        tooltipLess: "점을 보세요! 🔴 빨간색이 왼쪽에 있으면 더 작습니다!",
        // Explanation text
        isBigger: '는(은)',
        isSmaller: '는(은)',
        areSame: '와(과)',
        areEqual: '는(은) 같습니다',
        soStatement: '그래서',
        isTrue: '는(은) 참입니다',
        isFalse: '는(은) 거짓입니다',
        theyAreEqual: '(같습니다)',
        biggerThan: '보다 큽니다',
        smallerThan: '보다 작습니다',
        // Celebration messages
        incredible: '믿을 수 없어요!',
        youCrushedIt: '완벽했어요',
        streakLegend: '10연속 전설',
        champion: '챔피언'
    },
    ja: {
        mode: 'モード',
        greater: '大きい',
        less: '小さい',
        name: '名前:',
        true: '正しい',
        false: '違う',
        equal: '同じ',
        smaller: 'より小さい',
        bigger: 'より大きい',
        left: '左',
        right: '右',
        isGreaterThan: 'より大きいです',
        isLessThan: 'より小さいです',
        wrong: '❌ 間違い！ ❌',
        pickMe: '👈 選んで',
        saved: '✓ 保存済み',
        enterName: '名前を入力...',
        // Win messages
        winMessages: [
            "🎉 ビンゴ！勝ちました！ 🎉",
            "⭐ すごい！正解です！ ⭐",
            "🏆 チャンピオン！よくできました！ 🏆",
            "🎯 完璧！当たりました！ 🎯",
            "🌟 素晴らしい！ファンタスティック！ 🌟",
            "🚀 最高！燃えてますね！ 🚀",
            "💎 エクセレント！とても賢い！ 💎",
            "🎊 やったー！素晴らしい！ 🎊",
            "🥳 信じられない！成功しました！ 🥳",
            "🏅 優秀！よくできました！ 🏅",
            "⚡ 見事！上手にプレイしました！ ⚡",
            "🎈 ファンタスティック！あなたはスターです！ 🎈"
        ],
        // Encouragement messages
        encouragementMessages: [
            "🤔 次回はもっと注意深く考えてみましょう！",
            "⏰ 時間をかけて数字を比較してみてください！",
            "👀 選ぶ前に各数字をよく見てください！",
            "📏 覚えておいて：大きい数字は小さい数字より大きいです！",
            "🐌 急がないで - じっくり考えてください！",
            "🧠 頭を使って解いてみてください！",
            "👣 一歩ずつ数字を比較してください！",
            "🚦 ゆっくり、どちらが大きいか考えてください！",
            "💪 練習すれば完璧になります - 頑張って！",
            "🎯 クリックする前に数字に集中してください！",
            "😮‍💨 深呼吸して慎重に考えてください！",
            "⭐ もっとできます - 集中してください！"
        ],
        // Tooltip messages
        tooltipGreater: "点を見て！🔴 赤が右側にあれば大きいです！",
        tooltipLess: "点を見て！🔴 赤が左側にあれば小さいです！",
        // Explanation text
        isBigger: 'は',
        isSmaller: 'は',
        areSame: 'と',
        areEqual: 'は同じです',
        soStatement: 'だから',
        isTrue: 'は正しいです',
        isFalse: 'は間違いです',
        theyAreEqual: '(同じです)',
        biggerThan: 'より大きいです',
        smallerThan: 'より小さいです',
        // Celebration messages
        incredible: 'すごい！',
        youCrushedIt: '完璧でした',
        streakLegend: '10連続レジェンド',
        champion: 'チャンピオン'
    }
};

class TranslationServiceClass {
    constructor() {
        this.currentLanguage = localStorage.getItem('gameLanguage') || 'en';
        this.listeners = new Set();
    }

    get(key, language = this.currentLanguage) {
        const lang = translations[language] || translations.en;
        return lang[key] || translations.en[key] || key;
    }

    getCurrentLanguage() {
        return this.currentLanguage;
    }

    setLanguage(language) {
        if (translations[language]) {
            this.currentLanguage = language;
            localStorage.setItem('gameLanguage', language);
            this.notifyListeners();
        }
    }

    addListener(callback) {
        this.listeners.add(callback);
    }

    removeListener(callback) {
        this.listeners.delete(callback);
    }

    notifyListeners() {
        this.listeners.forEach(callback => callback(this.currentLanguage));
    }

    getWinMessage() {
        const messages = this.get('winMessages');
        return messages[Math.floor(Math.random() * messages.length)];
    }

    getEncouragementMessage() {
        const messages = this.get('encouragementMessages');
        return messages[Math.floor(Math.random() * messages.length)];
    }
}

export const TranslationService = new TranslationServiceClass();